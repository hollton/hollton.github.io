title: 个人工作项目总结
date: 2017-05-14 17:41:07
categories: [工作]
---
# 一、备课系统（2015/07/20 - 2016/02/17）
## 项目概述
## 工作内容
## 工作总结

# 二、北京高精尖（2016/02/02 - 至今）
## 项目概述
## 工作内容
## 工作总结
### Hash定位
需求：业务中移动端使用web html5页面，左上角返回按钮调用`history.back()`关闭当前页回退。

最初实现：设置hash值再定位到此，即：

	$location.hash(idName);
    $anchorScroll();
问题：每次定位会记录到历史记录，使用`history.back()`回退时会回到每次hash定位位置，导致移动端多次点击回退按钮才会关闭页面。

改进：关键使用`$location.replace();`不记录历史信息：先获取当前url地址，并去除hash信息，再添加上hash锚点，使用`replace()`替换当前url地址且不会存入历史记录，最后滚动定位到hash位置。

	var url = $location.url();
	url = url.substr(0,url.indexOf('#'));
	$location.url(url+'#'+idName).replace();
	$anchorScroll();